if(ENABLE_TESTING)  
find_package(Boost 1.57.0 REQUIRED COMPONENTS unit_test_framework)
  list(APPEND test_cases test_apolarsite)
  list(APPEND test_cases test_atom)
  list(APPEND test_cases test_fragment)
  list(APPEND test_cases test_glink)
  list(APPEND test_cases test_molecule)
  list(APPEND test_cases test_qmstate)
  list(APPEND test_cases test_qmnblist)
  list(APPEND test_cases test_qmpair)
  list(APPEND test_cases test_segment)
  list(APPEND test_cases test_segmenttype)
  list(APPEND test_cases test_topology)
  list(APPEND test_cases test_basisset)
  list(APPEND test_cases test_aobasis)
  list(APPEND test_cases test_aomatrix)
  list(APPEND test_cases test_orbitals)
  list(APPEND test_cases test_convergenceacc)
  list(APPEND test_cases test_adiis)
  list(APPEND test_cases test_diis)
  list(APPEND test_cases test_eigen)
  list(APPEND test_cases test_radial_euler_maclaurin_rule)
  list(APPEND test_cases test_sphere_lebedev_rule)
  list(APPEND test_cases test_numericalintegration)
  list(APPEND test_cases test_symmetric_matrix)
  list(APPEND test_cases test_threecenter)
  list(APPEND test_cases test_hdf5)
  list(APPEND test_cases test_eris)
  list(APPEND test_cases test_espfit)
  list(APPEND test_cases test_rpa)
  list(APPEND test_cases test_ppm)
  list(APPEND test_cases test_sigma)
  list(APPEND test_cases test_gw)
  list(APPEND test_cases test_bse)
  list(APPEND test_cases test_dftcoupling)
  list(APPEND test_cases test_statefilter)
  list(APPEND test_cases test_bfgs-trm)
  list(APPEND test_cases test_trustregion)
  list(APPEND test_cases test_gnode)
  list(APPEND test_cases test_vc2index)
  foreach(PROG ${test_cases} )
    add_executable(unit_${PROG} ${PROG}.cc)
    target_link_libraries(unit_${PROG} votca_xtp ${Boost_UNIT_TEST_FRAMEWORK_LIBRARY})
    target_compile_definitions(unit_${PROG} PRIVATE BOOST_TEST_DYN_LINK)
    add_test(unit_${PROG} unit_${PROG})
    # run tests for xtp (for coverage) as well
    set_tests_properties(unit_${PROG} PROPERTIES LABELS "xtp;votca")
  endforeach(PROG)
endif()
